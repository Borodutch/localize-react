!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["localize-react"]={},e.React)}(this,function(e,c){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var s=t(c);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d={},o="[LOCALIZE-REACT]: There are no translations for specified locale",i="[LOCALIZE-REACT] Looks like template is being used, but no value passed for ",a=/{{([^{]+[^}])}}/g;function p(e,t){if(!e)return null;if("object"===r(t[e]))return e;var n=e.toLowerCase().replace(/-/g,"_");if("object"===r(t[n]))return n;n=n.split("_")[0];return"object"===r(t[n])?n:(console.warn(o,e),e)}function y(e,t){if(!t)return e;if(0===Object.keys(t).length)return e;var r,o,n=e.match(a);return n&&0!==n.length?(n=n,r=t,o=Object.keys(r),n.map(function(e){var t=Array.prototype.slice.call(e,2,-2).join(""),n=o.find(function(e){return e===t});return n?[e,r[n]]:(console.warn(i,e),[e,e])})).reduce(function(e,t){var n=new RegExp(t[0],"gi");return e.replace(n,t[1])},e):e}var v=s.default.createContext();var n=v.Consumer;function u(){return c.useContext(v)}e.LocalizationConsumer=n,e.LocalizationContext=v,e.LocalizationProvider=function(e){var t=e.children,n=e.disableCache,r=e.locale,o=void 0===(i=e.translations)?{}:i,i=e.defaultLocale,e=p(r,o),i=i?p(i,o):void 0,u=e?o[e]:o,l=i?o[i]:void 0;function a(e,t,n){if(!u||!e)return n||e;var r=u[e];if("string"==typeof r)return t?y(r,t):r;var n="string"==typeof n?n:l&&l[e]||e,o=e.split(".");if(1===o.length)return y(n,t);for(var i=u[o[0]],a=1;a<o.length;a++)i=i&&i[o[a]];return y("string"==typeof i?i:n,t)}c.useEffect(function(){d={}},[r,o]);var f,n=n?a:(f=a,function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",r=t?JSON.stringify(t,null,"")+e+n:e+n;if(d[r])return d[r];n=f(e,t,n);return d[r]=n});return s.default.createElement(v.Provider,{value:{locale:r,translate:n,translations:o}},t)},e.Message=function(e){var t=e.defaultMessage,n=e.descriptor,e=e.values;return(0,u().translate)(n,e,t)},e.useLocalize=u,Object.defineProperty(e,"__esModule",{value:!0})});
