!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t((e=e||self)["localize-react"]={},e.React)}(this,function(e,s){"use strict";var p="default"in s?s.default:s;function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var y={},d="[LOCALIZE-REACT]: There are no translations for specified locale",a="[LOCALIZE-REACT] Looks like template is being used, but no value passed for ",u=/{{([^{]+[^}])}}/g;function b(e,t){if(!t)return e;if(0===Object.keys(t).length)return e;var r,n,o,i=e.match(u);return i&&0!==i.length?(r=i,n=t,o=Object.keys(n),r.map(function(e){var t=Array.prototype.slice.call(e,2,-2).join(""),r=o.find(function(e){return e===t});return r?[e,n[r]]:(console.warn(a,e),[e,e])})).reduce(function(e,t){var r=new RegExp(t[0],"gi");return e.replace(r,t[1])},e):e}var m=p.createContext();var t=m.Consumer;function n(){return s.useContext(m)}e.LocalizationConsumer=t,e.LocalizationContext=m,e.LocalizationProvider=function(e){var t=e.children,r=e.disableCache,n=e.locale,o=e.translations,i=void 0===o?{}:o,a=function(e,t){if(!e)return null;if("object"===v(t[e]))return e;var r=e.toLowerCase().replace(/-/g,"_");if("object"===v(t[r]))return r;var n=r.split("_")[0];return"object"===v(t[n])?n:(console.warn(d,e),e)}(n,i),u=a?i[a]:i;function c(e,t){if(!u||!e)return e;var r=u[e];if("string"==typeof r)return t?b(r,t):r;var n=e.split(".");if(1===n.length)return b(e,t);for(var o=u[n[0]],i=1;i<n.length;i++)o=o&&o[n[i]];return b("string"==typeof o?o:e,t)}s.useEffect(function(){y={}},[n,i]);var l,f=r?c:(l=c,function(e,t){var r=t?JSON.stringify(t,null,"")+e:e;if(y[r])return y[r];var n=l(e,t);return y[r]=n});return p.createElement(m.Provider,{value:{locale:n,translate:f,translations:i}},t)},e.Message=function(e){var t=e.descriptor,r=e.values;return(0,n().translate)(t,r)},e.useLocalize=n,Object.defineProperty(e,"__esModule",{value:!0})});
